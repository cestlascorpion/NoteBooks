# Linux Programmer's Manual

## kill()

```c
#include <sys/types.h>
#include <signal.h>

int kill(pid_t pid, int sig);

// Feature Test Macro Requirements for glibc (see feature_test_macros(7)):

kill(): _POSIX_C_SOURCE
```

kill()系统调用用于向进程/进程组发送信号。pid>0 表示信号发送至指定的进程；pid=0 表示信号发送至调用进程坐在进程组中的所有进程（不包括process 0和1）；pid=-1 表示信号发送至调用进程拥有权限访问的所有进程（不包括process 0和1）；pid<-1 表示信号发送至进程组ID为-pid的进程组中所有进程。如果sig=0则不发送任何信号，而是检查existence和permission，这通常用于调用进程对于指定进程/进程组是否具有权限或者检查进程/进程组是否存在。

调用成功返回0，否则返回1并设置errno。EINVAL表示sig不合法，EPERM表示调用进程权限不足，ESRCH表示指定的进程/进程组不存在。注意僵尸进程也是存在的进程，只是尚未被wait()/waitpid()回收。

## grep

Linux grep 命令用于查找文件里符合条件的字符串。

grep 指令用于查找内容包含指定的范本样式的文件，如果发现某文件的内容符合所指定的范本样式，预设 grep 指令会把含有范本样式的那一列显示出来。若不指定任何文件名称，或是所给予的文件名为 -，则 grep 指令会从标准输入设备读取数据。支持正则表达式，查找字符串含正则表达式可以用\转义。

```shell
grep [-abcEFGhHilLnqrsvVwxy][-A<显示列数>][-B<显示列数>][-C<显示列数>][-d<进行动作>][-e<范本样式>][-f<范本文件>][--help][范本样式][文件或目录...]

# 查找指定的字符串
grep str path/to/file
# 启用大小写不敏感
grep -i str path/to/file
# 在当前目录递归查找，忽略非文本文件
grep -RI str .
# 使用扩展正则表达式，支持 ? + {} () |
grep -E ^regex$ path/to/file
# 使用管道代替文件
cat path/to/file | grep str
# 逆向匹配，查找不含指定字符串的内容
grep -v str file/to/path
```

## sed

Linux sed 命令是利用脚本来处理文本文件。

sed 可依照脚本的指令来处理、编辑文本文件。Sed 主要用来自动编辑一个或多个文件、简化对文件的反复操作、编写转换程序等。

```shell
sed [-hnV][-e<script>][-f<script文件>][文本文件]

# Replace the first occurrence of a regular expression in each line of a file, and print the result: 替换第一个匹配项 并打印
sed 's/regex/replace/' filename
# Replace all occurrences of an extended regular expression in a file, and print the result: 替换所有匹配项 并打印
sed -r 's/regex/replace/g' filename
# Replace all occurrences of a string in a file, overwriting the file (i.e. in-place): 在源文件中替换所有匹配项
sed -i 's/find/replace/g' filename
# print file except 2-th line
sed '2d' filename
# print file except 2-th ~ 10-th line
sed '2,10d' filename
# print file except 2-th ~ last line
sed '2,$d' filename
# print file with 2-th line
sed -n '2p' filename
# print file with 2-th ~ 10-th line
sed -n '2,10p' filename
# print file with 2-th ~ last line
sed -n '2,$p' filename
```
